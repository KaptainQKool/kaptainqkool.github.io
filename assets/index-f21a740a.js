var ki=Object.defineProperty;var Ci=(t,e,i)=>e in t?ki(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var N=(t,e,i)=>(Ci(t,typeof e!="symbol"?e+"":e,i),i);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(o){if(o.ep)return;o.ep=!0;const s=i(o);fetch(o.href,s)}})();function Ft(){}function fi(t){return t()}function $e(){return Object.create(null)}function mt(t){t.forEach(fi)}function di(t){return typeof t=="function"}function _i(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Mi(t){return Object.keys(t).length===0}function n(t,e){t.appendChild(e)}function H(t,e,i){t.insertBefore(e,i||null)}function V(t){t.parentNode&&t.parentNode.removeChild(t)}function _e(t,e){for(let i=0;i<t.length;i+=1)t[i]&&t[i].d(e)}function r(t){return document.createElement(t)}function jt(t){return document.createTextNode(t)}function _(){return jt(" ")}function v(t,e,i,l){return t.addEventListener(e,i,l),()=>t.removeEventListener(e,i,l)}function a(t,e,i){i==null?t.removeAttribute(e):t.getAttribute(e)!==i&&t.setAttribute(e,i)}function D(t){return t===""?null:+t}function Pi(t){return Array.from(t.childNodes)}function Ae(t,e){e=""+e,t.data!==e&&(t.data=e)}function z(t,e){t.value=e??""}let qt;function Vt(t){qt=t}function zi(){if(!qt)throw new Error("Function called outside component initialization");return qt}function mi(t){zi().$$.on_mount.push(t)}const Lt=[],ti=[];let Rt=[];const ei=[],Si=Promise.resolve();let Te=!1;function Ti(){Te||(Te=!0,Si.then(pi))}function xe(t){Rt.push(t)}const Se=new Set;let Kt=0;function pi(){if(Kt!==0)return;const t=qt;do{try{for(;Kt<Lt.length;){const e=Lt[Kt];Kt++,Vt(e),xi(e.$$)}}catch(e){throw Lt.length=0,Kt=0,e}for(Vt(null),Lt.length=0,Kt=0;ti.length;)ti.pop()();for(let e=0;e<Rt.length;e+=1){const i=Rt[e];Se.has(i)||(Se.add(i),i())}Rt.length=0}while(Lt.length);for(;ei.length;)ei.pop()();Te=!1,Se.clear(),Vt(t)}function xi(t){if(t.fragment!==null){t.update(),mt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(xe)}}function Ai(t){const e=[],i=[];Rt.forEach(l=>t.indexOf(l)===-1?e.push(l):i.push(l)),i.forEach(l=>l()),Rt=e}const me=new Set;let Ei;function gi(t,e){t&&t.i&&(me.delete(t),t.i(e))}function Ni(t,e,i,l){if(t&&t.o){if(me.has(t))return;me.add(t),Ei.c.push(()=>{me.delete(t),l&&(i&&t.d(1),l())}),t.o(e)}else l&&l()}function _t(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Ii(t){t&&t.c()}function yi(t,e,i){const{fragment:l,after_update:o}=t.$$;l&&l.m(e,i),xe(()=>{const s=t.$$.on_mount.map(fi).filter(di);t.$$.on_destroy?t.$$.on_destroy.push(...s):mt(s),t.$$.on_mount=[]}),o.forEach(xe)}function bi(t,e){const i=t.$$;i.fragment!==null&&(Ai(i.after_update),mt(i.on_destroy),i.fragment&&i.fragment.d(e),i.on_destroy=i.fragment=null,i.ctx=[])}function Oi(t,e){t.$$.dirty[0]===-1&&(Lt.push(t),Ti(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function vi(t,e,i,l,o,s,d=null,f=[-1]){const g=qt;Vt(t);const u=t.$$={fragment:null,ctx:[],props:s,update:Ft,not_equal:o,bound:$e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(g?g.$$.context:[])),callbacks:$e(),dirty:f,skip_bound:!1,root:e.target||g.$$.root};d&&d(u.root);let y=!1;if(u.ctx=i?i(t,e.props||{},(w,C,...b)=>{const M=b.length?b[0]:C;return u.ctx&&o(u.ctx[w],u.ctx[w]=M)&&(!u.skip_bound&&u.bound[w]&&u.bound[w](M),y&&Oi(t,w)),C}):[],u.update(),y=!0,mt(u.before_update),u.fragment=l?l(u.ctx):!1,e.target){if(e.hydrate){const w=Pi(e.target);u.fragment&&u.fragment.l(w),w.forEach(V)}else u.fragment&&u.fragment.c();e.intro&&gi(t.$$.fragment),yi(t,e.target,e.anchor),pi()}Vt(g)}class wi{constructor(){N(this,"$$");N(this,"$$set")}$destroy(){bi(this,1),this.$destroy=Ft}$on(e,i){if(!di(i))return Ft;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(i),()=>{const o=l.indexOf(i);o!==-1&&l.splice(o,1)}}$set(e){this.$$set&&!Mi(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Xi="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Xi);const it=class it{static update(e,i){if(this.paused)return;this.world_info=i,this.time=this.time+e,this.objects.forEach(o=>{o.update(e,i)});let l=Wt.lastCreated;if(l&&Wt.lastCreated.isPathTime()){let o=[l.x_kinematics[0],i.height-l.y_kinematics[0],l.x_kinematics[1],l.y_kinematics[1],l.x_kinematics[2],l.y_kinematics[2]].map(s=>this.toMeters(s));o.unshift(it.time),this.table.push(o)}}static toMeters(e){return e/this.world_info.scale}static toPixels(e){return e*this.world_info.scale}static getComponentsOfKinematics(e,i){let l=e.map((s,d)=>this.toPixels(s*Math.cos(i[d]*(Math.PI/180)))),o=e.map((s,d)=>this.toPixels(s*Math.sin(i[d]*(Math.PI/180))));return[l,o]}static clearTable(){it.table=[],it.time=0}static pause(){this.paused=!0}static unpause(){this.paused=!1}static realCoordsToZoomCoords(e,i){let l=0,o=0;this.world_info.alignment=="left"&&(l=this.world_info.width/2,o=this.world_info.height/2);let s=this.world_info.zoom_percentage*(e-this.world_info.zoom_x)+this.world_info.width/2-l,d=this.world_info.zoom_percentage*(i-this.world_info.zoom_y)+this.world_info.height/2+o;return[s,d]}static zoomCoordsToRealCoords(e,i){let l=0,o=0;this.world_info.alignment=="left"&&(l=this.world_info.width/2,o=this.world_info.height/2);let s=this.world_info.width/2,d=this.world_info.height/2,f=this.world_info.zoom_percentage,g=this.world_info.zoom_x,u=this.world_info.zoom_y,y=(e-s+l)/f+g,w=(i-d+o)/f+u;return[y,w]}static clearAll(){it.objects=[],this.time=0,this.paused=!1}static display(e){this.objects.forEach(i=>{i.predisplay(e)})}static addToWorld(e){it.objects.push(e),e.world=this}};N(it,"objects",[]),N(it,"world_info"),N(it,"time",0),N(it,"table",[]),N(it,"paused",!1);let Y=it;const ye=class ye{constructor(e,i,l,o){N(this,"x_kinematics",[0,2]);N(this,"y_kinematics",[0,2]);N(this,"mass");N(this,"gravConstant",66743e-15);N(this,"color");N(this,"map_width");N(this,"map_height");N(this,"world_info");N(this,"world");N(this,"path");N(this,"max_steps");N(this,"step");this.x_kinematics=e,this.y_kinematics=i.map(s=>-s),this.y_kinematics[0]=this.y_kinematics[0]*-1,this.mass=1e13,this.color=l,this.map_width=o.width,this.map_height=o.height,this.world_info=o,this.path=[],this.max_steps=o.max_steps,this.step=0,ye.lastCreated=this,Y.clearTable()}updateCollisions(){throw Error("Not Implemented")}isPathTime(){return this.step==0}isFunction(e){return!1}update(e,i){this.world_info=i,this.x_kinematics[2]=0,this.y_kinematics[2]=0,Y.objects.forEach(l=>{let o=l.getMass(),s=l.getXKinematic(0)-this.x_kinematics[0],d=l.getYKinematic(0)-this.y_kinematics[0],f=Math.atan2(d,s),g=Math.sqrt(s*s+d*d);if(l!=this)if(g>(this.getRadius()+l.getRadius())*.9){g*=i.scale/1e3;let u=o/(g*g)*66743e-15*i.time_scale,y=u*Math.cos(f),w=u*Math.sin(f);this.x_kinematics[2]+=y,this.y_kinematics[2]+=w}else{let u=this.mass,y=Math.sqrt(this.x_kinematics[1]*this.x_kinematics[1]+this.y_kinematics[1]*this.y_kinematics[1]),w=Math.atan2(this.x_kinematics[1],this.y_kinematics[1]),C=l.getMass(),b=Math.sqrt(l.getXKinematic(1)*l.getXKinematic(1)+l.getYKinematic(1)*l.getYKinematic(1)),M=Math.atan2(l.getXKinematic(1),l.getYKinematic(1)),k=f;this.x_kinematics[1]=i.object_elasticity*((y*Math.cos(w-k)*(u-C)+2*C*b*Math.cos(M-k))*(Math.cos(k)/(u+C))+y*Math.sin(w-k)*Math.cos(k+Math.PI/2)),this.y_kinematics[1]=i.object_elasticity*((y*Math.cos(w-k)*(u-C)+2*C*b*Math.cos(M-k))*(Math.sin(k)/(u+C))+y*Math.sin(w-k)*Math.sin(k+Math.PI/2))}}),this.step++,this.step==Math.round(this.max_steps)&&i.time_scale>0&&(this.step=0,this.path.push([this.x_kinematics[0],this.y_kinematics[0]]),this.path.length>30*this.max_steps&&(this.path.shift(),this.path.shift()));for(let l=this.x_kinematics.length-1;l>0;--l)if(!isNaN(this.x_kinematics[l])){let o;this.isFunction(this.x_kinematics)?o=0:o=this.x_kinematics[l];let s=e*o;this.x_kinematics[l-1]+=s}for(let l=this.y_kinematics.length-1;l>0;--l)if(!isNaN(this.y_kinematics[l])){let o=e*this.y_kinematics[l];this.y_kinematics[l-1]+=o}this.updateCollisions()}getXKinematic(e){return this.x_kinematics[e]}getYKinematic(e){return this.y_kinematics[e]}setXKinematic(e,i){this.x_kinematics[e]=i}setYKinematic(e,i){this.y_kinematics[e]=i}getMass(){return this.mass}setMass(e){this.mass=e}getRadius(){return 0}predisplay(e){let i=this.x_kinematics[0],l=this.y_kinematics[0];e.fillStyle=this.color;let o=0,s=0;this.world_info.alignment=="left"&&(o=this.world_info.width/2,s=this.world_info.height/2),e.beginPath(),this.world_info.show_path&&this.path.forEach(g=>{e.lineWidth=3,e.fillStyle="black",e.strokeStyle="rgba("+[0,51,0,.1]+")";let[u,y]=Y.realCoordsToZoomCoords(g[0],g[1]);e.lineTo(u,y)}),e.stroke();let d=this.world_info.zoom_percentage*(i-this.world_info.zoom_x)+this.world_info.width/2-o,f=this.world_info.zoom_percentage*(l-this.world_info.zoom_y)+this.world_info.height/2+s;this.display(e,d,f)}display(e,i,l){throw Error("Not Implemented")}};N(ye,"lastCreated");let Wt=ye;class pe extends Wt{constructor(i,l,o,s,d){super(i,l,o,s);N(this,"radius");this.radius=d}static createWithVector(i,l,o,s,d,f,g){let u=o*Math.cos(s),y=o*Math.sin(s),w=[i,u],C=[l,y];return f&&f.forEach(b=>w.push(b)),g?g.forEach(b=>C.push(b)):C.push(d.gravity),new pe(w,C,"black",d,10)}updateCollisions(){this.y_kinematics[0]>=this.map_height&&(this.y_kinematics[0]=this.map_height,this.world_info.time_scale>0?this.y_kinematics[1]*=-1*this.world_info.elasticity:this.y_kinematics[1]*=-1/this.world_info.elasticity,this.world_info.elasticity==-1&&(this.x_kinematics[1]=0,this.y_kinematics[1]=0)),this.y_kinematics[0]<0&&(this.y_kinematics[0]=0,this.world_info.time_scale>0?this.y_kinematics[1]*=-1*this.world_info.elasticity:this.y_kinematics[1]*=-1/this.world_info.elasticity,this.world_info.elasticity==-1&&(this.x_kinematics[1]=0,this.y_kinematics[1]=0)),this.x_kinematics[0]>=this.map_width&&(this.x_kinematics[0]=this.map_width,this.world_info.time_scale>0?this.x_kinematics[1]*=-1*this.world_info.elasticity:this.x_kinematics[1]*=-1/this.world_info.elasticity,this.world_info.elasticity==-1&&(this.x_kinematics[1]=0,this.y_kinematics[1]=0)),this.x_kinematics[0]<0&&(this.x_kinematics[0]=0,this.world_info.time_scale>0?this.x_kinematics[1]*=-1*this.world_info.elasticity:this.x_kinematics[1]*=-1/this.world_info.elasticity,this.world_info.elasticity==-1&&(this.x_kinematics[1]=0,this.y_kinematics[1]=0))}getRadius(){return this.radius}display(i,l,o){let s=0;this.mass>1e11?s=this.world_info.zoom_percentage*this.radius*Math.log(this.mass/1e11)/5:s=0,i.beginPath(),i.arc(l,o,s,0,2*Math.PI,!1),i.fillStyle="green",i.fill(),i.lineWidth=5,i.strokeStyle="#003300",i.stroke()}}function Yi(t){let e,i,l,o;return{c(){e=r("div"),i=r("canvas"),a(i,"id","world-canvas"),a(i,"width","0"),a(i,"height","0"),a(e,"id","world-container"),a(e,"class","svelte-1d2sv2j")},m(s,d){H(s,e,d),n(e,i),l||(o=[v(i,"mousedown",t[0]),v(i,"mouseup",t[1])],l=!0)},p:Ft,i:Ft,o:Ft,d(s){s&&V(e),l=!1,mt(o)}}}function Ki(t,e,i){let{framerate:l}=e,{width:o}=e,{height:s}=e,{canvasclick:d}=e,{setvelo:f}=e,{getWorldSettings:g}=e,{updateProperties:u}=e,{updateTable:y}=e;console.log(`SETTINGS:
Framerate: ${l}
Width: ${o}
Height: ${s}
`);let w,C;function b(m){w=m.offsetX,C=m.offsetY}function M(m){const S=(w-m.offsetX)*-1,R=C-m.offsetY,x=Math.sqrt(Math.pow(S,2)+Math.pow(R,2));if(x>15){let A=Math.atan2(R,S);f(1/g().scale*x,A*(180/Math.PI))}d(w,C)}function k(){console.log("Canvas loaded!");let m=document.getElementById("world-canvas");m.getContext("2d")!=null&&(m.width=parseInt(o),m.height=parseInt(s),console.log(o),G())}function G(){let m=document.getElementById("world-canvas"),S=m.getContext("2d");if(S==null)return;let R=performance.now(),x=()=>{let A=g(),E=performance.now(),K=(E-R)/1e3;K=K*A.time_scale,R=E,Y.update(K,A),u(Wt.lastCreated),y(Y.table),S.fillStyle="#e8edea",S.fillRect(0,0,m.width,m.height);let[lt,nt]=Y.realCoordsToZoomCoords(0,0),[Q,F]=Y.realCoordsToZoomCoords(A.width,A.height);S.fillStyle="#ffffff",S.fillRect(lt,nt,Q-lt,F-nt),Y.display(S),Y.paused&&(S.font="35px Arial",S.textAlign="center",S.textBaseline="middle",S.fillText("Paused, Press P to toggle",m.width/2,m.height/2)),setTimeout(()=>{x()},Math.round(1/parseInt(l)*1e3))};x()}return mi(()=>{k()}),t.$$set=m=>{"framerate"in m&&i(2,l=m.framerate),"width"in m&&i(3,o=m.width),"height"in m&&i(4,s=m.height),"canvasclick"in m&&i(5,d=m.canvasclick),"setvelo"in m&&i(6,f=m.setvelo),"getWorldSettings"in m&&i(7,g=m.getWorldSettings),"updateProperties"in m&&i(8,u=m.updateProperties),"updateTable"in m&&i(9,y=m.updateTable)},[b,M,l,o,s,d,f,g,u,y]}class Li extends wi{constructor(e){super(),vi(this,e,Ki,Yi,_i,{framerate:2,width:3,height:4,canvasclick:5,setvelo:6,getWorldSettings:7,updateProperties:8,updateTable:9})}}function ii(t,e,i){const l=t.slice();return l[68]=e[i],l[69]=e,l[70]=i,l}function li(t,e,i){const l=t.slice();return l[71]=e[i],l[73]=i,l}function ni(t,e,i){const l=t.slice();return l[74]=e[i],l[76]=i,l}function si(t,e,i){const l=t.slice();return l[77]=e[i],l[78]=e,l[79]=i,l}function ai(t){let e,i,l,o,s,d,f,g,u,y,w;function C(){t[39].call(l,t[77])}function b(){t[40].call(s,t[77])}return{c(){e=r("p"),e.textContent=`${t[77].toUpperCase()}`,i=_(),l=r("input"),o=_(),s=r("input"),g=_(),u=r("br"),a(l,"type","number"),a(l,"step","0.01"),a(l,"id",t[77]),a(l,"class","svelte-18yaxr4"),a(s,"type","range"),a(s,"min",d=t[0][t[77]+"min"]),a(s,"max",f=t[0][t[77]+"max"]),a(s,"step","0.01"),a(s,"id",t[77]),a(s,"class","svelte-18yaxr4")},m(M,k){H(M,e,k),H(M,i,k),H(M,l,k),z(l,t[0][t[77]]),H(M,o,k),H(M,s,k),z(s,t[0][t[77]]),H(M,g,k),H(M,u,k),y||(w=[v(l,"input",C),v(l,"change",t[35]),v(s,"change",b),v(s,"input",b),v(s,"change",t[35])],y=!0)},p(M,k){t=M,k[0]&8388609&&D(l.value)!==t[0][t[77]]&&z(l,t[0][t[77]]),k[0]&1&&d!==(d=t[0][t[77]+"min"])&&a(s,"min",d),k[0]&1&&f!==(f=t[0][t[77]+"max"])&&a(s,"max",f),k[0]&8388609&&z(s,t[0][t[77]])},d(M){M&&(V(e),V(i),V(l),V(o),V(s),V(g),V(u)),y=!1,mt(w)}}}function oi(t){let e,i=ge(t[74],5)+"",l;return{c(){e=r("th"),l=jt(i)},m(o,s){H(o,e,s),n(e,l)},p(o,s){s[0]&131072&&i!==(i=ge(o[74],5)+"")&&Ae(l,i)},d(o){o&&V(e)}}}function ri(t){let e,i,l=_t(t[71]),o=[];for(let s=0;s<l.length;s+=1)o[s]=oi(ni(t,l,s));return{c(){e=r("tr");for(let s=0;s<o.length;s+=1)o[s].c();i=_()},m(s,d){H(s,e,d);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(e,null);n(e,i)},p(s,d){if(d[0]&131072){l=_t(s[71]);let f;for(f=0;f<l.length;f+=1){const g=ni(s,l,f);o[f]?o[f].p(g,d):(o[f]=oi(g),o[f].c(),o[f].m(e,i))}for(;f<o.length;f+=1)o[f].d(1);o.length=l.length}},d(s){s&&V(e),_e(o,s)}}}function hi(t){let e,i,l=t[27](t[68])+"",o,s,d,f,g,u,y,w,C,b,M,k,G,m,S;function R(){t[50].call(f,t[68])}function x(){t[51].call(b,t[68])}return{c(){e=r("div"),i=r("label"),o=jt(l),s=jt(":"),d=_(),f=r("input"),y=_(),w=r("label"),w.textContent="Angle:",C=_(),b=r("input"),G=_(),a(i,"for","something"),a(i,"id","dumblabel"),a(i,"class","svelte-18yaxr4"),a(f,"type","number"),a(f,"placeholder","0"),a(f,"name",g=t[27](t[68])),a(f,"id",u=t[68]+""),a(f,"class","svelte-18yaxr4"),a(w,"for","something"),a(w,"id","dumblabel"),a(w,"class","svelte-18yaxr4"),a(b,"type","angle"),a(b,"placeholder","45"),a(b,"name",M=t[27](t[68])),a(b,"id",k=t[68]+""),a(b,"class","svelte-18yaxr4"),a(e,"id","single"),a(e,"class","svelte-18yaxr4")},m(A,E){H(A,e,E),n(e,i),n(i,o),n(i,s),n(e,d),n(e,f),z(f,t[2][t[68]]),n(e,y),n(e,w),n(e,C),n(e,b),z(b,t[3][t[68]]),n(e,G),m||(S=[v(f,"input",R),v(f,"change",t[28]),v(b,"input",x),v(b,"change",t[34])],m=!0)},p(A,E){t=A,E[0]&2&&l!==(l=t[27](t[68])+"")&&Ae(o,l),E[0]&2&&g!==(g=t[27](t[68]))&&a(f,"name",g),E[0]&2&&u!==(u=t[68]+"")&&a(f,"id",u),E[0]&6&&D(f.value)!==t[2][t[68]]&&z(f,t[2][t[68]]),E[0]&2&&M!==(M=t[27](t[68]))&&a(b,"name",M),E[0]&2&&k!==(k=t[68]+"")&&a(b,"id",k),E[0]&10&&z(b,t[3][t[68]])},d(A){A&&V(e),m=!1,mt(S)}}}function ui(t){let e,i=ge(ci(t[20]),2)+"",l,o;return{c(){e=r("p"),l=jt(i),o=jt(" seconds")},m(s,d){H(s,e,d),n(e,l),n(e,o)},p(s,d){d[0]&1048576&&i!==(i=ge(ci(s[20]),2)+"")&&Ae(l,i)},d(s){s&&V(e)}}}function Fi(t){let e,i,l,o,s,d,f,g,u,y,w,C,b,M,k,G,m,S,R,x,A,E,K,lt,nt,Q,F,Bt,L,kt,Jt,$,Ut,Ct,Ht,tt,Gt,I,Mt,Qt,et,$t,Pt,Dt,st,te,zt,ee,q,ie,St,le,at,ne,se,J,Tt,ae,xt,oe,At,re,Et,he,pt,Nt,ot,P,c,O,U,gt,rt,ht,yt,Ee,be,Ne,bt,Ie,ve,Oe,vt,Xe,ue,Ye,ce,Ke,Le,Fe,we,Re,wt,je,It,We,Zt,X,ke,Be,fe,De,Ze,Ve,Ce,qe,ut,Je,Me,Ue,ct,He,Pe,Ge,ft,de,ze,Qe;l=new Li({props:{framerate:"60",height:"670",width:"1510",updateTable:t[31],updateProperties:t[30],getWorldSettings:t[38],canvasclick:t[29],setvelo:t[33]}});let Ot=_t(t[23]),j=[];for(let h=0;h<Ot.length;h+=1)j[h]=ai(si(t,Ot,h));let Xt=_t(t[17]),W=[];for(let h=0;h<Xt.length;h+=1)W[h]=ri(li(t,Xt,h));let Yt=_t(t[1]),B=[];for(let h=0;h<Yt.length;h+=1)B[h]=hi(ii(t,Yt,h));let Z=t[20]!=null&&t[20].world!=null&&ui(t);return{c(){e=r("div"),i=r("div"),Ii(l.$$.fragment),o=_(),s=r("div"),d=r("div");for(let h=0;h<j.length;h+=1)j[h].c();f=_(),g=r("div"),u=r("h1"),u.textContent="Michael and David's Amazing Spectacular N-Body Problem Simulator",y=r("h3"),y.textContent="(it's better than ani's)",w=_(),C=r("div"),b=r("table"),M=r("tr"),M.innerHTML="<th>Time</th> <th>X Position</th> <th>Y Position</th> <th>X Velocity</th> <th>Y Velocity</th> <th>X Acceleration</th> <th>Y Acceleration</th>",k=_();for(let h=0;h<W.length;h+=1)W[h].c();G=_(),m=r("div"),S=r("button"),S.textContent="Launch Ball",R=_(),x=r("div"),A=r("label"),A.textContent="Mass:",E=_(),K=r("input"),lt=_(),nt=r("label"),nt.textContent="Random?",Q=_(),F=r("input"),Bt=_(),L=r("div"),kt=r("label"),kt.textContent="Random mass from",Jt=_(),$=r("input"),Ut=_(),Ct=r("label"),Ct.textContent="to",Ht=_(),tt=r("input"),Gt=_(),I=r("div"),Mt=r("label"),Mt.textContent="X Position:",Qt=_(),et=r("input"),$t=_(),Pt=r("label"),Pt.textContent="Random?",Dt=_(),st=r("input"),te=_(),zt=r("label"),zt.textContent="Y Position:",ee=_(),q=r("input"),ie=_(),St=r("label"),St.textContent="Random?",le=_(),at=r("input"),ne=_();for(let h=0;h<B.length;h+=1)B[h].c();se=_(),J=r("div"),Tt=r("button"),Tt.textContent="Clear all Objects",ae=_(),xt=r("button"),xt.textContent="Reset All Data",oe=_(),At=r("button"),At.textContent="Pause",re=_(),Et=r("button"),Et.textContent="Unpause",he=_(),pt=r("div"),Nt=r("div"),ot=r("div"),P=r("div"),c=r("h3"),c.textContent="Controls",O=_(),U=r("p"),U.textContent="Canvas is 1510 by 670 pixels",gt=_(),rt=r("label"),rt.textContent="Zoom X",ht=_(),yt=r("input"),Ee=_(),be=r("label"),be.textContent="Zoom Y",Ne=_(),bt=r("input"),Ie=_(),ve=r("label"),ve.textContent="Zoom Amount",Oe=_(),vt=r("input"),Xe=_(),ue=r("button"),ue.textContent="Left-Aligned Zoom",Ye=_(),ce=r("button"),ce.textContent="Middle Zoom",Ke=_(),Le=r("hr"),Fe=_(),we=r("label"),we.textContent="Show Paths?",Re=_(),wt=r("input"),je=_(),It=r("div"),Z&&Z.c(),We=_(),Zt=r("div"),X=r("div"),ke=r("h3"),ke.textContent="Toys",Be=_(),fe=r("button"),fe.textContent="Fan Wave",De=_(),Ze=r("br"),Ve=_(),Ce=r("label"),Ce.textContent="From Angle",qe=_(),ut=r("input"),Je=_(),Me=r("label"),Me.textContent="To Angle",Ue=_(),ct=r("input"),He=_(),Pe=r("label"),Pe.textContent="Ball Amount",Ge=_(),ft=r("input"),a(i,"id","world"),a(d,"id","world_settings"),a(d,"class","svelte-18yaxr4"),a(b,"class","svelte-18yaxr4"),a(C,"id","datap"),a(C,"class","svelte-18yaxr4"),a(g,"id","topright"),a(g,"class","svelte-18yaxr4"),a(S,"id","launch"),a(A,"for","launchMass"),a(K,"type","number"),a(K,"placeholder","10"),a(K,"name","launchMass"),a(K,"id","launchMass"),a(nt,"for","launchMass"),a(F,"type","checkbox"),a(x,"id","mass_input"),a(kt,"for","randMin"),a($,"type","number"),a($,"placeholder","1"),a($,"name","randMin"),a($,"id","randMin"),a(Ct,"for","randMax"),a(tt,"type","number"),a(tt,"placeholder","100"),a(tt,"name","randMax"),a(tt,"id","randMax"),a(L,"id","mass_randomness"),a(Mt,"for","posX"),a(et,"type","number"),a(et,"placeholder","0"),a(et,"name","posX"),a(et,"id","posX"),a(Pt,"for","launchMass"),a(st,"type","checkbox"),a(zt,"for","posY"),a(q,"type","number"),a(q,"placeholder","670"),a(q,"name","posY"),a(q,"id","posY"),a(St,"for","launchMass"),a(at,"type","checkbox"),a(I,"id","important_settings"),a(I,"class","svelte-18yaxr4"),a(m,"id","ball"),a(m,"class","svelte-18yaxr4"),a(J,"id","ball_controls"),a(J,"class","svelte-18yaxr4"),a(s,"id","columns"),a(s,"class","svelte-18yaxr4"),a(wt,"type","checkbox"),a(P,"id","zoombox"),a(P,"class","svelte-18yaxr4"),a(It,"id","properties"),a(It,"class","svelte-18yaxr4"),a(ot,"id","actualcontrols"),a(ot,"class","svelte-18yaxr4"),a(Nt,"id","rightie"),a(pt,"id","controls"),a(pt,"class","svelte-18yaxr4"),a(ut,"placeholder","90"),a(ut,"class","svelte-18yaxr4"),a(ct,"placeholder","90"),a(ct,"class","svelte-18yaxr4"),a(ft,"placeholder","10"),a(ft,"class","svelte-18yaxr4"),a(X,"id","fanwave_container"),a(Zt,"id","toys"),a(Zt,"class","svelte-18yaxr4"),a(e,"id","interface"),a(e,"class","svelte-18yaxr4")},m(h,T){H(h,e,T),n(e,i),yi(l,i,null),n(e,o),n(e,s),n(s,d);for(let p=0;p<j.length;p+=1)j[p]&&j[p].m(d,null);n(s,f),n(s,g),n(g,u),n(g,y),n(g,w),n(g,C),n(C,b),n(b,M),n(b,k);for(let p=0;p<W.length;p+=1)W[p]&&W[p].m(b,null);n(s,G),n(s,m),n(m,S),n(m,R),n(m,x),n(x,A),n(x,E),n(x,K),z(K,t[9]),n(x,lt),n(x,nt),n(x,Q),n(x,F),F.checked=t[10],n(m,Bt),n(m,L),n(L,kt),n(L,Jt),n(L,$),z($,t[11]),n(L,Ut),n(L,Ct),n(L,Ht),n(L,tt),z(tt,t[12]),n(m,Gt),n(m,I),n(I,Mt),n(I,Qt),n(I,et),z(et,t[4]),n(I,$t),n(I,Pt),n(I,Dt),n(I,st),st.checked=t[5],n(I,te),n(I,zt),n(I,ee),n(I,q),z(q,t[8]),n(I,ie),n(I,St),n(I,le),n(I,at),at.checked=t[7],n(m,ne);for(let p=0;p<B.length;p+=1)B[p]&&B[p].m(m,null);n(s,se),n(s,J),n(J,Tt),n(J,ae),n(J,xt),n(J,oe),n(J,At),n(J,re),n(J,Et),n(e,he),n(e,pt),n(pt,Nt),n(Nt,ot),n(ot,P),n(P,c),n(P,O),n(P,U),n(P,gt),n(P,rt),n(P,ht),n(P,yt),z(yt,t[18]),n(P,Ee),n(P,be),n(P,Ne),n(P,bt),z(bt,t[19]),n(P,Ie),n(P,ve),n(P,Oe),n(P,vt),z(vt,t[21]),n(P,Xe),n(P,ue),n(P,Ye),n(P,ce),n(P,Ke),n(P,Le),n(P,Fe),n(P,we),n(P,Re),n(P,wt),wt.checked=t[14],n(ot,je),n(ot,It),Z&&Z.m(It,null),n(e,We),n(e,Zt),n(Zt,X),n(X,ke),n(X,Be),n(X,fe),n(X,De),n(X,Ze),n(X,Ve),n(X,Ce),n(X,qe),n(X,ut),z(ut,t[13]),n(X,Je),n(X,Me),n(X,Ue),n(X,ct),z(ct,t[15]),n(X,He),n(X,Pe),n(X,Ge),n(X,ft),z(ft,t[16]),de=!0,ze||(Qe=[v(S,"click",t[25]),v(K,"input",t[41]),v(F,"change",t[42]),v(F,"change",t[32]),v($,"input",t[43]),v(tt,"input",t[44]),v(et,"input",t[45]),v(st,"change",t[46]),v(st,"change",t[32]),v(q,"input",t[47]),v(q,"change",t[48]),v(at,"change",t[49]),v(at,"change",t[32]),v(Tt,"click",t[24]),v(xt,"click",t[22]),v(At,"click",t[36]),v(Et,"click",t[37]),v(yt,"input",t[52]),v(yt,"change",t[32]),v(bt,"input",t[53]),v(bt,"change",t[32]),v(vt,"input",t[54]),v(vt,"change",t[32]),v(ue,"click",t[55]),v(ce,"click",t[56]),v(wt,"change",t[57]),v(wt,"change",t[32]),v(fe,"click",t[26]),v(ut,"input",t[58]),v(ct,"input",t[59]),v(ft,"input",t[60])],ze=!0)},p(h,T){if(T[0]&8388609|T[1]&16){Ot=_t(h[23]);let p;for(p=0;p<Ot.length;p+=1){const dt=si(h,Ot,p);j[p]?j[p].p(dt,T):(j[p]=ai(dt),j[p].c(),j[p].m(d,null))}for(;p<j.length;p+=1)j[p].d(1);j.length=Ot.length}if(T[0]&131072){Xt=_t(h[17]);let p;for(p=0;p<Xt.length;p+=1){const dt=li(h,Xt,p);W[p]?W[p].p(dt,T):(W[p]=ri(dt),W[p].c(),W[p].m(b,null))}for(;p<W.length;p+=1)W[p].d(1);W.length=Xt.length}if(T[0]&512&&D(K.value)!==h[9]&&z(K,h[9]),T[0]&1024&&(F.checked=h[10]),T[0]&2048&&D($.value)!==h[11]&&z($,h[11]),T[0]&4096&&D(tt.value)!==h[12]&&z(tt,h[12]),T[0]&16&&D(et.value)!==h[4]&&z(et,h[4]),T[0]&32&&(st.checked=h[5]),T[0]&256&&D(q.value)!==h[8]&&z(q,h[8]),T[0]&128&&(at.checked=h[7]),T[0]&402653198|T[1]&8){Yt=_t(h[1]);let p;for(p=0;p<Yt.length;p+=1){const dt=ii(h,Yt,p);B[p]?B[p].p(dt,T):(B[p]=hi(dt),B[p].c(),B[p].m(m,null))}for(;p<B.length;p+=1)B[p].d(1);B.length=Yt.length}T[0]&262144&&yt.value!==h[18]&&z(yt,h[18]),T[0]&524288&&bt.value!==h[19]&&z(bt,h[19]),T[0]&2097152&&vt.value!==h[21]&&z(vt,h[21]),T[0]&16384&&(wt.checked=h[14]),h[20]!=null&&h[20].world!=null?Z?Z.p(h,T):(Z=ui(h),Z.c(),Z.m(It,null)):Z&&(Z.d(1),Z=null),T[0]&8192&&ut.value!==h[13]&&z(ut,h[13]),T[0]&32768&&ct.value!==h[15]&&z(ct,h[15]),T[0]&65536&&ft.value!==h[16]&&z(ft,h[16])},i(h){de||(gi(l.$$.fragment,h),de=!0)},o(h){Ni(l.$$.fragment,h),de=!1},d(h){h&&V(e),bi(l),_e(j,h),_e(W,h),_e(B,h),Z&&Z.d(),ze=!1,mt(Qe)}}}function ge(t,e){var i=Math.pow(10,e);return Math.round(t*i)/i}function ci(t){return t.world.time}function Ri(t,e,i){let l={time_scale:1,time_scalemin:0,time_scalemax:1,elasticity:.5,elasticitymin:-1,elasticitymax:2,object_elasticity:.75,object_elasticitymin:-1,object_elasticitymax:2,width:1510,height:670,scale:5,scalemin:1,scalemax:10,zoom_x:755,zoom_y:335,zoom_percentage:1,alignment:"middle",max_steps:1,max_stepsmin:1,max_stepsmax:20,show_path:!0,gravity:0,gravitymin:-20,gravitymax:10,useGravity:!1,gravConstant:66743e-15},o=!1;function s(){o=!0,location.reload()}window.onbeforeunload=function(){o?this.localStorage.settings=null:this.localStorage.settings=JSON.stringify(l)},mi(()=>{let c=JSON.parse(window.localStorage.settings);c&&i(0,l=c),i(18,Q=l.zoom_x),i(19,F=l.zoom_y),i(14,E=l.show_path),i(21,L=l.zoom_percentage),window.addEventListener("keydown",O=>{O.key==="p"&&(Y.paused?st():Dt())})});let d={elasticity:!0,elasticitymin:!1,elasticitymax:!1,object_elasticity:!0,object_elasticitymin:!1,object_elasticitymax:!1,gravity:!1,gravitymin:!1,gravitymax:!1,width:!0,height:!0,scale:!0,scalemin:!1,scalemax:!1,display_scale:!0,display_scalemin:!1,display_scalemax:!1,time_scale:!0,time_scalemin:!1,time_scalemax:!1,max_steps:!0,max_stepsmin:!1,max_stepsmax:!1},f=Object.keys(l).filter(c=>d[c]),g=[],u=[-1,l.gravity],y=[-1,90],w=[-1,10],C=0,b=!1,M=670,k=!1,G=0,m=10,S=!1,R=1,x=100,A=0,E=l.show_path,K=90,lt=10,nt=[],Q=l.zoom_x,F=l.zoom_y,Bt=null,L=l.zoom_percentage,kt=()=>{Y.clearAll()};for(let c=0;c<1;c++)g[c]=c,(u[c]==null||u[c]==-1)&&(u[c]=0),(y[c]==null||y[c]==-1)&&(y[c]=0),(w[c]==null||w[c]==-1)&&(w[c]=0);function Jt(){i(2,u[1]=l.gravity,u);let[c,O]=Y.getComponentsOfKinematics(u,y),U=C,gt=M;b&&(U=Math.random()*l.width),k&&(gt=Math.random()*l.height),c.unshift(U),O.unshift(gt);let rt=l.time_scale;i(0,l.time_scale=0,l);let ht=new pe(c,O,"black",l,10);S?ht.setMass((Math.random()*(x-R)+R)*1e11):ht.setMass(m*1e11),Y.addToWorld(ht),i(0,l.time_scale=rt,l)}function $(){let c=(K-A)*(Math.PI/180),[O,U]=Y.getComponentsOfKinematics(u,y);O.shift(),U.shift();let gt=parseFloat(prompt("velocity? "));for(let rt=0;rt<lt;rt++){let ht=pe.createWithVector(C,M,gt,A+c/lt*rt,l,O,U);Y.addToWorld(ht)}}let Ut=["Velocity","Acceleration","Jerk","Snap","Crackle","Pop","Lock","Drop"];function Ct(c){return c>=Ht.length-1?c+"th":Ut[c]}let Ht=["Position","Velocity","Acceleration","Jerk","Snap","Crackle","Pop","Lock","Drop"];function tt(c){let O=0;if(c.target.value!=""&&!isNaN(c.target.value)){O=parseFloat(c.target.value);let U=parseInt(c.target.id);i(2,u[U]=O,u)}}function Gt(c,O){i(4,[C,M]=Y.zoomCoordsToRealCoords(c,O),C,i(6,M))}function I(c){i(20,Bt=c)}function Mt(c){i(17,nt=c)}function Qt(){i(18,Q=parseFloat(Q)),i(19,F=parseFloat(F)),i(21,L=parseFloat(L)),console.log(E),i(0,l={...l,zoom_percentage:L,zoom_x:Q,zoom_y:F,show_path:E}),console.log(l)}function et(c,O){i(3,y[0]=O,y),i(2,u[0]=c,u),i(3,y=[...y]),i(2,u=[...u])}function $t(c){let O=0;if(c.target.value!=""&&!isNaN(c.target.value)){O=parseFloat(c.target.value);let U=parseInt(c.target.id);i(3,y[U]=O,y)}}function Pt(c){c.target.value!=""&&!isNaN(c.target.value)&&i(0,l={...l,[c.target.id]:parseFloat(c.target.value)})}function Dt(){Y.pause()}function st(){Y.unpause()}let te=()=>l;function zt(c){l[c]=D(this.value),i(0,l)}function ee(c){l[c]=D(this.value),i(0,l)}function q(){m=D(this.value),i(9,m)}function ie(){S=this.checked,i(10,S)}function St(){R=D(this.value),i(11,R)}function le(){x=D(this.value),i(12,x)}function at(){C=D(this.value),i(4,C)}function ne(){b=this.checked,i(5,b)}function se(){G=D(this.value),i(8,G)}const J=()=>{i(6,M=670-G)};function Tt(){k=this.checked,i(7,k)}function ae(c){u[c]=D(this.value),i(2,u)}function xt(c){y[c]=this.value,i(3,y)}function oe(){Q=this.value,i(18,Q)}function At(){F=this.value,i(19,F)}function re(){L=this.value,i(21,L)}const Et=()=>{i(0,l.alignment="left",l)},he=()=>{i(0,l.alignment="middle",l)};function pt(){E=this.checked,i(14,E)}function Nt(){A=this.value,i(13,A)}function ot(){K=this.value,i(15,K)}function P(){lt=this.value,i(16,lt)}return[l,g,u,y,C,b,M,k,G,m,S,R,x,A,E,K,lt,nt,Q,F,Bt,L,s,f,kt,Jt,$,Ct,tt,Gt,I,Mt,Qt,et,$t,Pt,Dt,st,te,zt,ee,q,ie,St,le,at,ne,se,J,Tt,ae,xt,oe,At,re,Et,he,pt,Nt,ot,P]}class ji extends wi{constructor(e){super(),vi(this,e,Ri,Fi,_i,{},null,[-1,-1,-1])}}new ji({target:document.getElementById("app")});
